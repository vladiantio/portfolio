---
import BlogGrid from "~/components/blog/BlogGrid.astro";
import { getAllBlogPosts } from "~/services/blog";
import type { Locale } from '~/i18n/constants';
import { useTranslations } from '~/i18n/helpers';

const locale = Astro.currentLocale as Locale | undefined;
const translate = useTranslations(locale);
const posts = await getAllBlogPosts(locale);
---
{posts && posts.length > 0 && (
  <section>
    <h2 class="text-primary">{translate('blog.posts')}</h2>
    <BlogGrid posts={posts} />
  </section>
)}