---
import type { ImageMetadata } from "astro";
import type { HTMLAttributes } from "astro/types";
import { Image, Picture } from "astro:assets";

interface Props extends Omit<HTMLAttributes<"img">, "alt" | "height" | "src" | "width"> {
  alt: string;
  height?: number | `${number}`;
  src: ImageMetadata;
  width?: number | `${number}`;
}

const props = Astro.props;
---

{props.src.format === 'svg' ?
  <Image {...props} /> :
  <Picture {...props} formats={['avif']} />
}
