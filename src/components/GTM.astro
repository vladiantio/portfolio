---
interface Props {
  id: string;
}

const { id } = Astro.props;

const gtagUrl = `https://www.googletagmanager.com/gtag/js?id=${id}`;
---
<script is:inline defer src={gtagUrl}></script>
<script is:inline data-gid={id} id="gt-init">
window.dataLayer=window.dataLayer||[];
window.gtag=function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());
// Implement default denied consents and ONLY collect anonymous data.
gtag('consent','default',{
	ad_storage:'denied',
	ad_user_data:'denied',
	ad_personalization:'denied',
	analytics_storage:'denied',
});
gtag('config',document.getElementById('gt-init').dataset.gid);
</script>